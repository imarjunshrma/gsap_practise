<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Navbar</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Link</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Dropdown
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">Action</a></li>
                            <li><a class="dropdown-item" href="#">Another action</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="#">Something else here</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled" aria-disabled="true">Disabled</a>
                    </li>
                </ul>
                <form class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
            </div>
        </div>
    </nav>
    <div class="hero-section">
        <!-- <div class="wave-element">

        </div> -->
        <!-- <img src="/wave.svg" alt=""> -->
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Accusantium nihil necessitatibus dignissimos veritatis
        expedita dolore quos, magni quam adipisci quo saepe, libero cumque aut? Ratione dignissimos officia ipsam eius
        quae. Excepturi perferendis dolorum voluptatem nisi sed, eaque quibusdam deleniti debitis est dolores eligendi
        necessitatibus ipsam.
    </div>

    <div class="section -jsScroll">
        <div class="inner">
            <div class="circle">
                <div class="innerCircle">
                    <img src="/download.svg" alt="" height="400px">
                    <div class="yellow">
                        <div class="wave-container">
                            <img src="/wave.svg" alt="" class="wave">
                        </div>
                        <div class="wave-container">
                            <img src="/wave.svg" alt="" class="wave">
                        </div>
                    </div>
                    <div class="second">
                        <img src="/download (1).svg" alt="" height="400px">
                    </div>
                    <!-- <div class="wave">
                        <img src="/wave.svg" alt="">
                    </div> -->
                </div>
            </div>
        </div>

    </div>

    <div class="hero-section">
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Accusantium nihil necessitatibus dignissimos veritatis
        expedita dolore quos, magni quam adipisci quo saepe, libero cumque aut? Ratione dignissimos officia ipsam eius
        quae. Excepturi perferendis dolorum voluptatem nisi sed, eaque quibusdam deleniti debitis est dolores eligendi
        necessitatibus ipsam.
    </div>
    <div class="hero-section">
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Accusantium nihil necessitatibus dignissimos veritatis
        expedita dolore quos, magni quam adipisci quo saepe, libero cumque aut? Ratione dignissimos officia ipsam eius
        quae. Excepturi perferendis dolorum voluptatem nisi sed, eaque quibusdam deleniti debitis est dolores eligendi
        necessitatibus ipsam.
    </div>

    <div class="infinite-slider">
        <div class="slider-section jsSliderSection">
            <!-- <div class="images images1 c-textMarquee">
                <div class="image_el c-textMarquee__text">
                    <img src="/css.webp" alt="">
                </div>
                <div class="image_el c-textMarquee__text">
                    <img src="/css.webp" alt="">
                </div>
                <div class="image_el c-textMarquee__text">
                    <img src="/css.webp" alt="">
                </div>
                <div class="image_el c-textMarquee__text">
                    <img src="/css.webp" alt="">
                </div>
                <div class="image_el c-textMarquee__text">
                    <img src="/css.webp" alt="">
                </div>
                <div class="image_el c-textMarquee__text">
                    <img src="/css.webp" alt="">
                </div>
                <div class="image_el c-textMarquee__text">
                    <img src="/css.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/c-sharp.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/css.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/django.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/joomla.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/wix.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/laravel.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/nextjs.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/python.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/codeigniter.webp" alt="">
                </div>
            </div> -->
            <!-- <div class="images images2">
                <div>
                    <img src="/c-sharp.webp" alt="">
                </div>
                <div>
                    <img src="/css.webp" alt="">
                </div>
                <div>
                    <img src="/django.webp" alt="">
                </div>
                <div>
                    <img src="/joomla.webp" alt="">
                </div>
                <div>
                    <img src="/wix.webp" alt="">
                </div>
                <div>
                    <img src="/laravel.webp" alt="">
                </div>
                <div>
                    <img src="/nextjs.webp" alt="">
                </div>
                <div>
                    <img src="/python.webp" alt="">
                </div>
                <div>
                    <img src="/codeigniter.webp" alt="">
                </div>
            </div> -->
        </div>

    </div>
    <infinite-slider>
        <div class="infinite-slider">
            <div class="slider-section jsSliderSection">
                <div class="image_el c-textMarquee__text">
                    <img src="/css.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/django.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/joomla.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/wix.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/laravel.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/nextjs.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/python.webp" alt="">
                </div>
                <div class="image_el">
                    <img src="/codeigniter.webp" alt="">
                </div>
            </div>

        </div>
    </infinite-slider>
    <div class="c-textMarquee">
        <div class="c-textMarquee__text anim-marqueeText">Admissions&nbsp;&nbsp;</div>
        <div class="c-textMarquee__text anim-marqueeText">Admissions&nbsp;&nbsp;</div>
        <div class="c-textMarquee__text anim-marqueeText">Admissions&nbsp;&nbsp;</div>
        <div class="c-textMarquee__text anim-marqueeText">Admissions&nbsp;&nbsp;</div>
    </div>


    <!-- Carousel using javascript -->

    <div class="carousel">
        <div class="slides">
            <img src="/assets/street-8434099_1280.jpg" alt="" class="slide">
        </div>
        <!-- <div class="slides">
            <img src="/assets/trees-8395145_1280.jpg" alt="" class="slide">
        </div> -->
    </div>


    <section class="test">
        Test with scrollable content above section using observer from GSAP observer gallery on Codepen.
    </section>

    <div class="swipe-section">
        <section class="panel red">
            ScrollTrigger.observe() section
        </section>
        <section class="panel purple x-100">
            Section 2
        </section>
        <section class="panel blue x-100">
            Section 3
        </section>
        <section class="panel orange x-100 vh-200">
            This section should switch to vertical scroll (500vh)
        </section>
    </div>

    <!-- spacer -->
    <div style="height: 400vh"></div>
    <style>
        body {
            overscroll-behavior: none;
            min-height: 100vh;
        }

        .swipe-section {
            position: relative;
            height: 100vh;
            width: 100%;
            overflow: visible;
        }

        .swipe-section .panel {
            position: absolute;
        }

        .vh-200 {
            height: 500vh !important;
        }

        .test {
            height: 200vh;
            background: olive;
            text-align: center;
            color: white;
            font-size: 40px;
            padding: 5rem;

        }
    </style>

    <!-- <div class="hero-section">
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Accusantium nihil necessitatibus dignissimos veritatis
        expedita dolore quos, magni quam adipisci quo saepe, libero cumque aut? Ratione dignissimos officia ipsam eius
        quae. Excepturi perferendis dolorum voluptatem nisi sed, eaque quibusdam deleniti debitis est dolores eligendi
        necessitatibus ipsam.
    </div>
    <div class="section"></div>
    <div class="hero-section">
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Accusantium nihil necessitatibus dignissimos veritatis
        expedita dolore quos, magni quam adipisci quo saepe, libero cumque aut? Ratione dignissimos officia ipsam eius
        quae. Excepturi perferendis dolorum voluptatem nisi sed, eaque quibusdam deleniti debitis est dolores eligendi
        necessitatibus ipsam.
    </div>
    <div class="hero-section">
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Accusantium nihil necessitatibus dignissimos veritatis
        expedita dolore quos, magni quam adipisci quo saepe, libero cumque aut? Ratione dignissimos officia ipsam eius
        quae. Excepturi perferendis dolorum voluptatem nisi sed, eaque quibusdam deleniti debitis est dolores eligendi
        necessitatibus ipsam.
    </div>
    <div class="hero-section">
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Accusantium nihil necessitatibus dignissimos veritatis
        expedita dolore quos, magni quam adipisci quo saepe, libero cumque aut? Ratione dignissimos officia ipsam eius
        quae. Excepturi perferendis dolorum voluptatem nisi sed, eaque quibusdam deleniti debitis est dolores eligendi
        necessitatibus ipsam.
    </div> -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.39/dist/lenis.min.js"></script>

    <!-- <script src="index.js"></script> -->
    <!-- <script src="infiniteScroll.js"></script> -->
    <!-- <script>
        let slider = document.querySelector(".jsSliderSection");
        let images = slider.querySelector(".images");
        let element = images.querySelectorAll(".image_el")
        // let timeline = gsap.timeline({});
        const onComplete = () => {
            let progress = tween.progress();
            // console.log(progress);
            // console.log("complete animation...")
        }
        const onUpdate = () => {
            let progress = tween.progress();
            // console.log(progress);
            // console.log("update...")
        }
        console.log(element[0].offsetWidth)
        let tween = gsap.fromTo(element, {
            x: 0
        }, {
            // xPercent: -100,
            x: -element[0].offsetWidth,
            duration: 5,
            onComplete: onComplete,
            onUpdate: onUpdate,
            repeat: -1,
            paused: false
        })
        let progress = tween.progress();
        console.log(progress);
    </script> -->
    <style>
        html.lenis {
            height: auto;
        }

        .lenis.lenis-smooth {
            scroll-behavior: auto !important;
        }

        .lenis.lenis-smooth [data-lenis-prevent] {
            overscroll-behavior: contain;
        }

        .lenis.lenis-stopped {
            overflow: hidden;
        }

        .lenis.lenis-scrolling iframe {
            pointer-events: none;
        }
    </style>
    <script>
        // class InfiniteSlider extends HTMLElement {
        //     constructor() {
        //         super();
        //         console.log(this.innerHTML);
        //     }
        //     connectedCallback() {
        //         const slider = this.querySelector(".jsSliderSection");
        //         const element = document.createElement("div");
        //         element.classList.add("custom");
        //         // element.innerHTML = slider.children;
        //         Array.from(slider.children).forEach(child => {
        //             element.appendChild(child);
        //         })
        //         slider.innerHTML = "";
        //         slider.appendChild(element);
        //         const newElement = element.cloneNode(true);
        //         newElement.classList.add("duplicate");
        //         slider.appendChild(newElement);
        //         const shadow = this.attachShadow({ mode: "open" });
        //         const template = document.createElement("style");

        //         style.textContent = `
        //     .custom {
        //         display: flex;
        //     }
        // `;
        //         shadow.appendChild(template);
        //     }
        // }
        // customElements.define("infinite-slider", InfiniteSlider);
    </script>
    <script>
        gsap.registerPlugin(ScrollTrigger)
        const lenis = new Lenis(
            {
                duration: 1.2,
                easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)), // https://www.desmos.com/calculator/brs54l4xou
                direction: 'vertical', // vertical, horizontal
                gestureDirection: 'vertical', // vertical, horizontal, both
                smooth: true,
                mouseMultiplier: 1,
                smoothTouch: false,
                touchMultiplier: 2,
                infinite: false
            }
        )

        lenis.on('scroll', (e) => {
            // console.log(e)

        })

        lenis.on('scroll', ScrollTrigger.update)

        gsap.ticker.add((time) => {
            lenis.raf(time * 1000)
        })

        gsap.ticker.lagSmoothing(0)

        //timeline


        // Gsap Code
        let currentIndex = -1;
        let animating;
        let swipePanels = gsap.utils.toArray(".swipe-section .panel");

        // set second panel two initial 100%
        gsap.set(".x-100", { xPercent: 100 });

        // set z-index levels for the swipe panels
        gsap.set(swipePanels, {
            zIndex: i => i
        });

        // create an observer and disable it to start
        let intentObserver = ScrollTrigger.observe({
            type: "wheel,touch",
            onUp: () => !animating && gotoPanel(currentIndex + 1, true),
            onDown: () => !animating && gotoPanel(currentIndex - 1, false),
            wheelSpeed: -1, // to match mobile behavior, invert the wheel speed
            tolerance: 10,
            preventDefault: true,
            onPress: self => {
                // on touch devices like iOS, if we want to prevent scrolling, we must call preventDefault() on the touchstart (Observer doesn't do that because that would also prevent side-scrolling which is undesirable in most cases)
                ScrollTrigger.isTouch && self.event.preventDefault()
            }
        })
        intentObserver.disable();

        let preventScroll = ScrollTrigger.observe({
            preventDefault: true,
            type: "wheel,scroll",
            allowClicks: true,
            onEnable: self => self.savedScroll = self.scrollY(), // save the scroll position
            onChangeY: self => self.scrollY(self.savedScroll)    // refuse to scroll
        });
        preventScroll.disable();

        // handle the panel swipe animations
        function gotoPanel(index, isScrollingDown) {
            animating = true;
            // return to normal scroll if we're at the end or back up to the start
            if (
                (index === swipePanels.length && isScrollingDown) ||
                (index === -1 && !isScrollingDown)
            ) {
                intentObserver.disable();
                preventScroll.disable();
                animating = false;
                // now make it go 1px beyond in the correct direction so that it doesn't trigger onEnter/onEnterBack.
                preventScroll.scrollY(preventScroll.scrollY() + (index === swipePanels.length ? 1 : -1));
                return;
            }

            //   target the second panel, last panel?
            let target = isScrollingDown ? swipePanels[index] : swipePanels[currentIndex];

            gsap.to(target, {
                xPercent: isScrollingDown ? 0 : 100,
                duration: 0.75,
                onComplete: () => {
                    animating = false;
                }
            });
            currentIndex = index;
        }

        // pin swipe section and initiate observer
        ScrollTrigger.create({
            trigger: ".swipe-section",
            pin: true,
            anticipatePin: true,
            start: "top top",
            end: "+=50%",
            onEnter: (self) => {
                if (preventScroll.isEnabled === false) {
                    self.scroll(self.start);
                    preventScroll.enable();
                    intentObserver.enable();
                    gotoPanel(currentIndex + 1, true);
                }
            },
            onEnterBack: (self) => {
                if (preventScroll.isEnabled === false) {
                    self.scroll(self.start);
                    preventScroll.enable();
                    intentObserver.enable();
                    gotoPanel(currentIndex - 1, false);
                }
            }
        });

    </script>
</body>

</html>

<!-- debounce and throating -->
<!-- web components -->
<!-- flex shrink , flex grow -->